```uml
@startuml



opt 会員未登録

ユーザー -> Webサーバー:ユーザー登録
Webサーバー -> DBサーバー:ユーザー登録
DBサーバー -> DBサーバー:登録処理

  alt 登録成功
    Webサーバー ->ユーザー:登録メッセージの表示
  else 登録失敗
    Webサーバー ->ユーザー:失敗メッセージの表示
  end
  
end



opt 弁護士未登録

弁護士 -> Webサーバー:弁護士登録・個人情報取扱規約同意
Webサーバー -> DBサーバー:弁護士登録・個人情報取扱規約同意
DBサーバー -> DBサーバー:登録処理

  alt 登録成功
    Webサーバー ->弁護士:登録メッセージの表示
  else 登録失敗
    Webサーバー ->弁護士:失敗メッセージの表示
  end
  
end





ユーザー -> Webサーバー:ログイン
Webサーバー -> DBサーバー:ログイン
DBサーバー -> DBサーバー:ログイン処理および認証
DBサーバー -> Webサーバー:認証結果

  alt 認証成功
    else 認証失敗
    Webサーバー ->ユーザー:失敗メッセージの表示
  end
 
 
 


弁護士 -> Webサーバー:ログイン
Webサーバー -> DBサーバー:ログイン
DBサーバー -> DBサーバー:ログイン処理および認証
DBサーバー -> Webサーバー:認証結果

  alt 認証成功
    else 認証失敗
    Webサーバー ->弁護士:失敗メッセージの表示
  end
 
 
 
  
  
ユーザー -> Webサーバー:弁護士検索
Webサーバー -> DBサーバー:弁護士検索
DBサーバー -> DBサーバー:検索処理
DBサーバー -> Webサーバー:検索結果
Webサーバー ->ユーザー:検索結果表示





ユーザー -> Webサーバー:プロフィール確認
Webサーバー -> DBサーバー:プロフィール確認
DBサーバー -> Webサーバー:プロフィール出力
Webサーバー ->ユーザー:プロフィール確認





opt 弁護士依頼

ユーザー -> Webサーバー:弁護士依頼・個人情報取扱規約同意
Webサーバー -> DBサーバー:弁護士依頼・個人情報取扱規約同意
DBサーバー -> DBサーバー:依頼処理
DBサーバー -> Webサーバー:弁護士依頼メッセージ
Webサーバー ->弁護士:弁護士依頼メッセージの表示
DBサーバー -> Webサーバー:依頼完了
Webサーバー ->ユーザー:依頼完了メッセージの表示

  
end



  alt キャンセル有り
      Webサーバー ->ユーザー:対象物削除
    else キャンセル無し
  end
  
  opt カート情報更新
      ユーザー -> Webサーバー:更新申請
      Webサーバー ->ユーザー:内容更新
  end
  
Webサーバー -> DBサーバー:カート情報
DBサーバー -> DBサーバー:購入処理
DBサーバー -> Webサーバー:購入情報
Webサーバー ->ユーザー:購入メッセージの表示

Webサーバー -> DBサーバー:ログアウト
DBサーバー -> DBサーバー:ログアウト
DBサーバー -> Webサーバー:ログイン処理
Webサーバー ->ユーザー:ログアウトメッセージ表示
  
  

@enduml
```

