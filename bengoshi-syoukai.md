```uml
@startuml



opt 会員未登録

ユーザー -> Webサーバー:ユーザー登録
Webサーバー -> DBサーバー:ユーザー登録
DBサーバー -> DBサーバー:登録処理

  alt 登録成功
    Webサーバー ->ユーザー:登録メッセージの表示
  else 登録失敗
    Webサーバー ->ユーザー:失敗メッセージの表示
  end
  
end



opt 弁護士未登録

弁護士 -> Webサーバー:弁護士登録・個人情報取扱規約同意
Webサーバー -> DBサーバー:弁護士登録・個人情報取扱規約同意
DBサーバー -> DBサーバー:登録処理

  alt 登録成功
    Webサーバー ->弁護士:登録メッセージの表示
  else 登録失敗
    Webサーバー ->弁護士:失敗メッセージの表示
  end
  
end





ユーザー -> Webサーバー:ログイン
Webサーバー -> DBサーバー:ログイン
DBサーバー -> DBサーバー:ログイン処理および認証
DBサーバー -> Webサーバー:認証結果

  alt 認証成功
    else 認証失敗
    Webサーバー ->ユーザー:失敗メッセージの表示
  end
 
 
 


弁護士 -> Webサーバー:ログイン
Webサーバー -> DBサーバー:ログイン
DBサーバー -> DBサーバー:ログイン処理および認証
DBサーバー -> Webサーバー:認証結果

  alt 認証成功
    else 認証失敗
    Webサーバー ->弁護士:失敗メッセージの表示
  end
 
 
 
  
  
ユーザー -> Webサーバー:弁護士検索
Webサーバー -> DBサーバー:弁護士検索
DBサーバー -> DBサーバー:検索処理
DBサーバー -> Webサーバー:検索結果
Webサーバー ->ユーザー:検索結果表示





ユーザー -> Webサーバー:プロフィール確認
Webサーバー -> DBサーバー:プロフィール確認
DBサーバー -> Webサーバー:プロフィール出力
Webサーバー ->ユーザー:プロフィール確認





opt 弁護士依頼

ユーザー -> Webサーバー:弁護士依頼

              alt 個人情報取扱規約同意
              else 同意不可
              Webサーバー ->ユーザー:依頼不可メッセージ表示
              end

Webサーバー -> DBサーバー:弁護士依頼・個人情報取扱規約同意
DBサーバー -> DBサーバー:依頼処理
DBサーバー -> Webサーバー:弁護士依頼メッセージ
Webサーバー ->弁護士:弁護士依頼メッセージの表示
DBサーバー -> Webサーバー:弁護士依頼完了
Webサーバー ->ユーザー:依頼完了メッセージの表示

end



opt 口コミ閲覧・投稿

ユーザー -> Webサーバー:弁護士検索
Webサーバー -> DBサーバー:弁護士検索
DBサーバー -> DBサーバー:検索処理
DBサーバー -> Webサーバー:検索結果
Webサーバー ->ユーザー:検索結果表示・口コミ閲覧

              opt 口コミ投稿
              ユーザー -> Webサーバー:口コミ書き込み
              
                      alt 投稿内容訂正無し
                      
                      Webサーバー -> DBサーバー:口コミ投稿
                      DBサーバー -> DBサーバー:口コミ追加処理
                      DBサーバー -> Webサーバー:追加完了
                      Webサーバー ->ユーザー:投稿完了メッセージ
                      else 訂正あり
                      Webサーバー ->ユーザー:入力フォーム表示
                      
                      end
              
              end
              
end


 


Webサーバー -> DBサーバー:ログアウト
DBサーバー -> DBサーバー:ログアウト
DBサーバー -> Webサーバー:ログイン処理
Webサーバー ->ユーザー:ログアウトメッセージ表示
  
  



Webサーバー -> DBサーバー:ログアウト
DBサーバー -> DBサーバー:ログアウト
DBサーバー -> Webサーバー:ログイン処理
Webサーバー ->弁護士:ログアウトメッセージ表示





@enduml
```

